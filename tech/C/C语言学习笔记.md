# C语言学习笔记

## 关键字

[ANSI C标准](https://baike.baidu.com/item/ANSI%20C%E6%A0%87%E5%87%86/6044290)C语言共有32个关键字，9种控制语句；这些关键字如下：

### 基本数据类型关键字（5个）

| 基本数据类型 |                            释义                            |
| :----------: | :--------------------------------------------------------: |
|     void     | 声明函数无返回值或无参数，声明无类型指针，显式丢弃运算结果 |
|     char     |             字符型类型数据，属于整型数据的一种             |
|     int      |            整型数据，通常为编译器指定的机器字长            |
|    float     |            单精度浮点型数据，属于浮点数据的一种            |
|    double    |            双精度浮点型数据，属于浮点数据的一种            |

### 类型修饰关键字（4个）

|          |                     释义                     |
| :------: | :------------------------------------------: |
|  short   | 修饰int，短整型数据类型，可以省略被修饰的int |
|   long   | 修饰int，长整型数据类型，可以省略被修饰的int |
|  signed  |         修饰整型数据，有符号数据类型         |
| unsigned |         修饰整型数据，无符号数据类型         |

### 复杂类型关键字（5个）

|         |               释义               |
| :-----: | :------------------------------: |
| struct  |            结构体声明            |
|  union  |            共用体声明            |
|  enum   |             枚举声明             |
| typedef |           声明类型别名           |
| sizeof  | 得到特定类型或特定类型变量的大小 |

### 存储级别关键字（6个）

|          |                             释义                             |
| :------: | :----------------------------------------------------------: |
|   auto   |    指定为自动变量，由编译器自动分配及释放。通常在栈上分配    |
|  static  | 指定为静态变量，分配在静态变量区，修饰函数时，指定函数作用域为文件内部 |
| register | 指定为寄存器变量，建议编译器将变量存储到寄存器中使用，也可以修饰函数形参，建议编译器通过寄存器而不是堆栈传递参数 |
|  extern  | 指定对应变量为外部变量，即在另外的目标文件中定义，可以认为是约定由另外文件声明的对象的一个“引用” |
|  const   | 与volatile合称“cv特性”，指定变量不可被当前线程/进程改变（但有可能被系统或其它线程/进程改变） |
| volatile | 与const合称“cv特性”，指定变量的值有可能会被系统或其它进程/线程改变，强制编译器每次从内存中取得该变量的值 |

### 跳转关键字（4个）

|          |                          释义                          |
| :------: | :----------------------------------------------------: |
|  return  | 用于函数体中，返回特定值（或者是void类型，即不返回值） |
| continue |              结束当前循环，开始下一轮循环              |
|  break   |                跳出当前循环或switch结构                |
|   goto   |                     无条件跳转语句                     |

### 条件关键字（5个）

|         |               释义               |
| :-----: | :------------------------------: |
|   if    |             条件语句             |
|  else   | 条件语句否定分支（与if一起使用） |
| switch  |     开关语句（多重分支语句）     |
|  case   |       开关语句中的分支标记       |
| default |   开关语句中的“默认”分支，可选   |

### 循环关键字（3个）

以下循环语句，当循环条件表达式为真则继续循环；为假则跳出循环。

|       |                             释义                             |
| :---: | :----------------------------------------------------------: |
|  for  | for循环结构，for(1;2;3)4;的执行顺序为：1243 -> 243 -> 243...循环，其中2为循环条件 |
|  do   | do循环结构，do 1 while(2);的执行顺序为：121 -> 21 -> 21...循环，其中2为循环条件 |
| while | while循环结构，while(1)2;的执行顺序为：12 -> 12 ->12...循环，其中1为循环条件 |

### C99新增关键字（5个）

1999年12月16日，ISO推出了C99标准，该标准新增了5个C语言关键字：

```c 
inline restrict _Bool _Complex _Imaginary
```

### C11新增关键字（7个）

2011年12月8日，ISO发布C语言的新标准C11，该标准新增了7个C语言关键字：

```c
_Alignas _Alignof _Atomic _Static_assert _Noretrun _Thread_local _Generic
```

## 基本数据类型

C语言并没有严格规定short、int、long的长度，只是做了宽泛的限制：

- short至少占用两个字节；
- int建议为一个机器字长。32位环境下机器字长为4字节，64位环境下机器字长为8字节；
- short的长度不能大于int，long的长度不能小于int。

总结起来，它们的长度（所占字节数）关系为：

``` c
2 <= short <= int <= long
```

**这就意味着，short并不一定真的”短“，long也并不一定真的”长“，它们有可能和int占用相同的字节数。**

在16位环境下，short的长度为2个字节，int也为2个字节，long为4个字节。16位环境多用于单片机和低级嵌入式系统，在PC和服务器上已经见不到了。

对于32位的Windows、Linux和Mac OS，short的长度为2个字节，int为4个字节，long也为4个字节。PC和服务器上的32位系统占有率也在慢慢下降，嵌入式系统使用32位越来越多。

在64位环境下，不同的操作系统会有不同的结果，如下所示：

|                       操作系统                        | short | int  | long |
| :---------------------------------------------------: | :---: | :--: | :--: |
|                 Win64（64位 Windows）                 |   2   |  4   |  4   |
| 类Unix系统（包括Unix、Linux、Mac OS、BSD、Solaris等） |   2   |  4   |  8   |

目前，我们使用较多的PC系统为Win XP、Win 7、Win 8、Win 10、Mac OS、Linux，在这些系统中，short和int的长度都是固定的，分别为2和4，大家可以放心使用，只有long的长度在Win64和类Unix系统下会有所不同，使用时要注意移植性。

以本机（Win 10家庭中文版）为例，测得C语言基本数据类型所占长度如下：

| 基本数据类型 |       说明       | 占用空间（byte） |
| :----------: | :--------------: | :--------------: |
|     char     |   字符数据类型   |        1         |
|    short     |    短整数类型    |        2         |
|     int      |     整数类型     |        4         |
|     long     |    长整数类型    |        4         |
|  long long   |  更长的整数类型  |        8         |
|    float     | 单精度浮点数类型 |        4         |
|    double    | 双精度浮点数类型 |        8         |

##  打印控制

|      |                |      |
| :--: | :------------: | ---- |
|  %d  | 打印十进制整型 |      |
|  %c  |    打印字符    |      |
|      |                |      |
|      |                |      |
|      |                |      |
|      |                |      |

